<Prefab>
  <Window>
    <Widget WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent" IsVisible="@IsEnabled">
      <Children>

        <Widget DataSource="{Targets}" WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent">
          <ItemTemplate>

            <Widget WidthSizePolicy="CoverChildren" HeightSizePolicy="CoverChildren">
              <Children>

                <!--Single Card-->
                <CrpgTrainingGroundTargetMarkerListPanel WidthSizePolicy="CoverChildren" HeightSizePolicy="CoverChildren" StackLayout.LayoutMethod="VerticalBottomToTop" Background="CardBackground" Border="CardBackground\CardOutline" ActionText="..\ActionText" Position="@ScreenPosition" WSign="@WSign" TroopClassBorder="CardBackground\CardOutline\CardContentList\CardContentListHorizontal\TroopClassBorder" IsAgentInScreenBoundaries="@IsAgentInScreenBoundaries" IsTracked="@IsTracked" IsAvailable="@IsEnabled" HasTargetSentDuelRequest="@HasDuelRequestForPlayer" HasPlayerSentDuelRequest="@HasSentDuelRequest" IsAgentFocused="@IsFocused">
                  <Children>

                    <BrushWidget Id="CardBackground" WidthSizePolicy="Fixed" HeightSizePolicy="CoverChildren" SuggestedWidth="215" HorizontalAlignment="Center" Brush="MPHUD.Duel.Card.Canvas" UpdateChildrenStates="true">
                      <Children>

                        <BrushWidget Id="CardOutline" WidthSizePolicy="StretchToParent" HeightSizePolicy="CoverChildren" HorizontalAlignment="Center" Brush="MPHUD.Duel.Card.Frame">
                          <Children>

                            <ListPanel Id="CardContentList" WidthSizePolicy="StretchToParent" HeightSizePolicy="CoverChildren" StackLayout.LayoutMethod="VerticalBottomToTop">
                              <Children>

                                <ListPanel Id="CardContentListHorizontal" WidthSizePolicy="CoverChildren" HeightSizePolicy="CoverChildren" StackLayout.LayoutMethod="HorizontalLeftToRight" IsVisible="@ShouldShowInformation">
                                  <Children>

                                    <!--Class2-->
                                    <BrushWidget Id="TroopClassBorder" WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="50" SuggestedHeight="50" PositionXOffset="-10" PositionYOffset="-10" Brush="MPHUD.Duel.Card.Class.Outline">
                                      <Children>

                                        <MultiplayerTroopTypeIconWidget DataSource="{CompassElement}" Id="IconContainer" WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="100" SuggestedHeight="100" HorizontalAlignment="Center"  VerticalAlignment="Center" ForegroundWidget="IconForeground" IconSpriteType="@IconType" AlphaFactor="0" UseOriginalSize="false">
                                          <Children>
                                            <Widget Id="IconForeground" WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent" Color="#F4E1C4FF"/>
                                          </Children>
                                        </MultiplayerTroopTypeIconWidget>

                                      </Children>
                                    </BrushWidget>

                                    <Widget WidthSizePolicy="CoverChildren" HeightSizePolicy="CoverChildren" HorizontalAlignment="Center" PositionXOffset="-7" IsVisible="@ShouldShowInformation">
                                      <Children>

                                      </Children>
                                    </Widget>

                                  </Children>
                                </ListPanel>

                                <ListPanel WidthSizePolicy="StretchToParent" HeightSizePolicy="CoverChildren" HorizontalAlignment="Center" MarginTop="10" MarginBottom="10" MarginLeft="15" MarginRight="15" StackLayout.LayoutMethod="HorizontalLeftToRight">
                                  <Children>

                                    <!--Name-->
                                    <ScrollingRichTextWidget WidthSizePolicy="StretchToParent" HeightSizePolicy="CoverChildren" MarginTop="4" Brush="MPHUD.Duel.Card.NameText" Text="@Name" IsVisible="@IsTracked" />
                                    <TextWidget WidthSizePolicy="CoverChildren" HeightSizePolicy="CoverChildren" MarginTop="4" Brush="MPHUD.Duel.Card.NameText" Text="@Name" IsHidden="@IsTracked" />

                                    <!--Rating -->
                                    <ListPanel WidthSizePolicy="CoverChildren" HeightSizePolicy="CoverChildren" VerticalAlignment="Center" MarginLeft="10">
                                      <Children>
                                        <!-- <TextWidget WidthSizePolicy="CoverChildren" HeightSizePolicy="CoverChildren" HorizontalAlignment="Center" IntText="1000" Brush="MPHUD.Duel.Card.HugeBountyText"/> -->
                                      </Children>
                                    </ListPanel>
                                  </Children>
                                </ListPanel>

                              </Children>
                            </ListPanel>

                          </Children>
                        </BrushWidget>

                      </Children>
                    </BrushWidget>

                  </Children>
                </CrpgTrainingGroundTargetMarkerListPanel>

                <!--Action-->
                <RichTextWidget Id="ActionText" WidthSizePolicy="CoverChildren" HeightSizePolicy="CoverChildren" HorizontalAlignment="Center" Brush="MPHUD.Duel.Card.ActionText" MarginTop="8" Text="@ActionDescriptionText" IsVisible="@IsFocused"/>


              </Children>
            </Widget>

          </ItemTemplate>
        </Widget>

      </Children>
    </Widget>
  </Window>
</Prefab>
